# β΅ OpenSeal 5λ¶„ ν€µμ¤νƒ€νΈ: λ‚΄ API λ³΄νΈν•κΈ°

μ΄ κ°€μ΄λ“λ” OpenSealμ„ μ‚¬μ©ν•μ—¬ μμ‹ μ API μ„λΉ„μ¤λ¥Ό λ³΄νΈν•κ³ , μ½”λ“ λ³€μ΅° μ‹ μ΄λ¥Ό μ–΄λ–»κ² μ¦‰μ‹ κ°μ§€ν•  μ μλ”μ§€ μ‹¤μµν•λ” κ³Όμ •μ„ λ‹΄κ³  μμµλ‹λ‹¤.

---

## π€ λ‹¨κ³„λ³„ νν† λ¦¬μ–Ό

### 1λ‹¨κ³„: μƒν” ν”„λ΅μ νΈ μ¤€λΉ„ (λλ” λ³ΈμΈ ν”„λ΅μ νΈ)
ν…μ¤νΈλ¥Ό μ„ν•΄ κ°„λ‹¨ν• API μ„λ²„λ¥Ό μ¤€λΉ„ν•©λ‹λ‹¤. μ§μ ‘ λ§λ“  μ„λ²„κ°€ μ—†λ‹¤λ©΄ [OpenSeal Samples](https://github.com/org/openseal-samples)λ¥Ό ν΄λ΅ ν•μ—¬ μ‹μ‘ν•μ„Έμ”.

```bash
# μƒν” λ ν¬μ§€ν† λ¦¬ ν΄λ΅  μμ‹
git clone https://github.com/org/openseal-samples
cd openseal-samples/nodejs-example
npm install
```

### 2λ‹¨κ³„: κ³¨λ“  νΈλ£¨μ¤(Golden Truth) ν™•λ³΄ (Sealing)
ν”„λ΅μ νΈκ°€ λ³€μ΅°λμ§€ μ•μ€ "κ°€μ¥ μ •μ§ν• μƒνƒ"μ μ„λ…μ„ λ―Έλ¦¬ μ¶”μ¶ν•©λ‹λ‹¤. μ΄ μ„λ…μ€ λ‚μ¤‘μ— κ²€μ¦μ κΈ°μ¤€μ μ΄ λ©λ‹λ‹¤.

```bash
# openseal-cliλ¥Ό μ‚¬μ©ν•μ—¬ νΉμ • μ…λ ¥μ— λ€ν• μ •λ‹µ μ„λ… μ¶”μ¶
./openseal seal \
  --app ./nodejs-example \
  --wax "my_first_test_123" \
  --input '{"name": "OpenSeal"}'
```

**μ¶λ ¥ κ²°κ³Ό μμ‹:**
> β–οΈ **Golden Truth Signature**: `a1b2c3d4e5f6...`  
> (μ΄ κ°’μ„ λ©”λ¨μ¥μ— μ μ–΄λ‘μ„Έμ”)

### 3λ‹¨κ³„: OpenSeal λ°νƒ€μ„μΌλ΅ μ„λ²„ μ‹¤ν–‰
μ΄μ  μ„λΉ„μ¤λ¥Ό OpenSeal λ³΄νΈλ§‰ μ•μ—μ„ μ‹¤ν–‰ν•©λ‹λ‹¤.

```bash
# 7325 ν¬νΈλ΅ OpenSeal λ°νƒ€μ„ μ‹¤ν–‰ (λ‚΄λ¶€ μ•±μ€ μλ™μΌλ΅ κ°μ§€λμ–΄ μ‹¤ν–‰λ¨)
openseal run ./nodejs-example --port 7325
```

### 4λ‹¨κ³„: μ •μƒ μƒνƒ ν™•μΈ
APIλ¥Ό νΈμ¶ν•μ—¬ μ‘λ‹µκ³Ό ν•¨κ» μ¤λ” μ„λ…μ΄ κ³¨λ“  νΈλ£¨μ¤μ™€ μΌμΉν•λ”μ§€ ν™•μΈν•©λ‹λ‹¤.

```bash
curl -X POST http://localhost:7325/greet \
  -H "X-OpenSeal-Wax: my_first_test_123" \
  -H "Content-Type: application/json" \
  -d '{"name": "OpenSeal"}'
```

**κ²°κ³Ό ν™•μΈ**: μ‘λ‹µ JSONμ `openseal.signature` κ°’μ΄ 2λ‹¨κ³„μ—μ„ λ©”λ¨ν• κ°’κ³Ό μΌμΉν•λ‹¤λ©΄ **μ •μƒ**μ…λ‹λ‹¤! β…

### 5λ‹¨κ³„: λ³€μ΅° μ‹¤μ¦ (Tampering Attack)
μ΄μ  μ†μ¤μ½”λ“λ¥Ό κ³ μλ΅ μμ •ν•μ—¬ OpenSealμ΄ μ΄λ¥Ό κ°μ§€ν•λ”μ§€ ν™•μΈν•©λ‹λ‹¤.

1. `nodejs-example/index.js` νμΌμ„ μ—΄μ–΄ μ‘λ‹µ ν…μ¤νΈλ¥Ό μ‚΄μ§ μμ •ν•©λ‹λ‹¤. (μ: `Hello` -> `Hi`)
2. μ„λ²„λ¥Ό μ¬μ‹¤ν–‰ν•©λ‹λ‹¤: `openseal run ./nodejs-example --port 7325`
3. 4λ‹¨κ³„μ™€ **λ™μΌν•** `curl` λ…λ Ήμ–΄λ¥Ό λ‹¤μ‹ μ‹¤ν–‰ν•©λ‹λ‹¤.

**κ²°κ³Ό ν™•μΈ**: μ‘λ‹µμ `signature` κ°’μ΄ μ΄μ „κ³Ό **μ™„μ „ν λ‹¬λΌμ΅μ„ κ²ƒμ…λ‹λ‹¤.** β  
μ΄κ²ƒμ€ μ†μ¤μ½”λ“κ°€ λ‹¨ 1λ°”μ΄νΈλΌλ„ λ³€μ΅°λλ©΄ κ²°κ³Όκ°’μ— λ°”μΈλ”©λ μ¦λ…μ΄ κΉ¨μ§μ„ μλ―Έν•©λ‹λ‹¤.

---

## π›΅οΈ ν•µμ‹¬ μ •μ±…: Golden Truth
OpenSealμ€ μ‹¤μ  ν”„λ΅λ•μ…μ—μ„λ„ λ™μΌν• μ›μΉ™μ„ μ μ©ν•©λ‹λ‹¤.

- **μ€λ‹‰**: μ„λ²„ λ΅μ§, ν•΄μ‹ κµ¬μ΅° λ“±μ„ μ™Έλ¶€μ— λ…Έμ¶ν•μ§€ μ•μµλ‹λ‹¤.
- **μ¦λ…**: μ¤μ§ νΉμ • μƒν™©(`Wax` + `Input`)μ— λ€ν• **μ •λ‹µ μ„λ…(Golden Truth)**λ§ κ²€μ¦μμ—κ² κ³µμ ν•©λ‹λ‹¤.
- **κ²€μ¦**: κ²€μ¦μλ” μ‘λ‹µμΌλ΅ μ¨ μ„λ…μ΄ κ³µμ λ°›μ€ κ³¨λ“  νΈλ£¨μ¤μ™€ μΌμΉν•λ”μ§€λ§ λ€μ΅°ν•λ©΄ λ©λ‹λ‹¤.

---

## π’΅ λ‹¤μ λ‹¨κ³„
- [λ³΄μ• λ©”μ»¤λ‹μ¦ μƒμ„Έ λ³΄κΈ° (CORE_MECHANISM_KR.md)](./docs/internal/CORE_MECHANISM_KR.md)
- [ν”„λ΅λ•μ… λ°°ν¬ κ°€μ΄λ“ (DOCS κ°€μ΄λ“ μμ •)](./docs/production.md)
